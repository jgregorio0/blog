(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{229:function(t,e,n){"use strict";var o=n(24),s=n.n(o),a=n(41),i=n.n(a),r=n(4),c={props:{post:{type:Object,required:!1}},data:function(){return{editedPost:this.post?s()({},this.post,{updatedDate:(new Date).toISOString()}):{title:"",content:"",updatedDate:(new Date).toISOString()}}},methods:{onSave:function(){this.$emit("submit",this.editedPost)},onCancel:function(){this.$router.push("/admin")}},computed:{contentHTML:function(){return(new i.a.Converter).makeHtml(this.editedPost.content)},faSave:function(){return r.e},faBan:function(){return r.a}}},d=n(3),u=Object(d.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.onSave(e)}}},[n("b-button-group",{staticClass:"mb-5"},[n("b-button",{attrs:{type:"submit",variant:"success"}},[n("fa",{attrs:{icon:t.faSave}}),t._v(" "),n("span",{staticClass:"ml-1"},[t._v("Save")])],1),t._v(" "),n("b-button",{attrs:{type:"button",variant:"danger"},on:{click:t.onCancel}},[n("fa",{attrs:{icon:t.faBan}}),t._v(" "),n("span",{staticClass:"ml-1"},[t._v("Cancel")])],1)],1),t._v(" "),n("b-form-group",{attrs:{id:"titleGroup",label:"Title:","label-for":"title"}},[n("b-form-input",{attrs:{id:"title",type:"text",required:"",placeholder:"Enter title"},model:{value:t.editedPost.title,callback:function(e){t.$set(t.editedPost,"title",e)},expression:"editedPost.title"}})],1),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("b-form-group",{attrs:{id:"contentGroup",label:"Content:","label-for":"content"}},[n("b-form-textarea",{attrs:{id:"content",placeholder:"Enter markdown content",rows:10,"max-rows":30},model:{value:t.editedPost.content,callback:function(e){t.$set(t.editedPost,"content",e)},expression:"editedPost.content"}})],1)],1),t._v(" "),n("div",{staticClass:"col-6",domProps:{innerHTML:t._s(t.contentHTML)}})]),t._v(" "),n("input",{attrs:{type:"hidden"},domProps:{value:t.updatedDate}})],1)},[],!1,null,null,null);u.options.__file="AdminPostForm.vue";e.a=u.exports},234:function(t,e,n){"use strict";n.r(e);var o=n(24),s=n.n(o),a=n(229),i=n(32),r={layout:"admin",components:{AdminPostForm:a.a},asyncData:function(t){return i.a.posts.doc(t.params.postId).get().then(function(e){return{loadedPost:s()({},e.data(),{id:t.params.postId})}}).catch(function(t){console.error(t)})},methods:{updatePost:function(t){var e=this;this.$store.dispatch("editPost",t).then(function(){e.$router.push("/admin")})}}},c=n(3),d=Object(c.a)(r,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"admin-post-page"},[e("section",{staticClass:"update-form"},[e("h1",[this._v("Update post")]),this._v(" "),e("AdminPostForm",{attrs:{post:this.loadedPost},on:{submit:this.updatePost}})],1)])},[],!1,null,null,null);d.options.__file="index.vue";e.default=d.exports}}]);